(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{33:function(e,t,n){},34:function(e,t,n){},66:function(e,t){},68:function(e,t,n){},69:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var i=n(1),a=n.n(i),s=n(24),o=n.n(s),r=(n(33),n(2)),c=(n(8),n(77)),l=n(74),h=(n(34),n(0)),p=function(e){var t=Object(i.useState)(),n=Object(r.a)(t,2),a=n[0],s=n[1];return Object(h.jsxs)("div",{id:"log-in-container",children:[Object(h.jsxs)("div",{id:"information-container",style:{display:a},children:[Object(h.jsx)(l.a,{color:"#292929",size:50,id:"close",onClick:function(){return s("none")},style:{alignSelf:"flex-end"}}),Object(h.jsx)("h2",{className:"section",children:"Privacy"}),Object(h.jsx)("p",{className:"section-text",children:"Altough this client conects to another server, I do not collect any data of you. I store a cookie to be able to conect to the Spotify API, but eventually it expires."}),Object(h.jsx)("h2",{className:"section",children:"How do you guess my personality?"}),Object(h.jsx)("p",{className:"section-text",children:"I use this study below as basis for the whole analysis. For every genre mentioned, I asign that genre to the type of personality with the highest percentage. For example: punk would belong to the INTP personality, and so on. Then the algorithm reads your top 50 songs of all time, and see what genre it belongs, and asign a point to the personality type that matches. And finally, substract the points for every letter of the personality type that contradicts itself (ex: Extroversion and Extraversion)"}),Object(h.jsx)("a",{href:"https://www.16personalities.com/articles/music-preferences-by-personality-type",id:"source-link",children:"https://www.16personalities.com/articles/music-preferences-by-personality-type"})]}),Object(h.jsx)("h1",{id:"title",children:"Spotify Personality"}),Object(h.jsx)("p",{id:"warning-text",children:"This is not a real personality test, don't take it seriously!"}),Object(h.jsx)("p",{id:"author",children:"This project was made by: Alfredo Vanegas Arcega"}),Object(h.jsx)("a",{href:"",id:"learn",onClick:function(){return s("flex")},children:"Want to learn more about this? Click me!"}),Object(h.jsx)(c.a,{variant:"primary",id:"log-in-button",onClick:function(){e.onLogIn(!0)},children:"Log in with Spotify"})]})},d=n(76),u=n(7),m=n.n(u),g=n(25),f=n.n(g),y=(n(68),n(69),n(70),n(75)),b=function(){return Object(h.jsx)(i.Fragment,{children:Object(h.jsxs)("div",{className:"row",id:"loading",children:[Object(h.jsx)(y.a,{animation:"grow",variant:"success",size:"xl"}),Object(h.jsx)("p",{children:"Loading..."}),Object(h.jsx)("p",{children:"Wait until the API responds"})]})})},j=n(26),v=n.n(j),w=(n(71),n(72),function(e){var t=Object(i.useState)(),n=Object(r.a)(t,2),a=n[0],s=n[1],o=Object(i.useState)(),c=Object(r.a)(o,2),l=c[0],p=c[1],d=Object(i.useState)(),u=Object(r.a)(d,2),m=u[0],g=u[1],f=Object(i.useState)(),y=Object(r.a)(f,2),j=y[0],w=y[1],x=Object(i.useState)(!0),O=Object(r.a)(x,2),k=O[0],S=O[1],T={punk:"ISTP",jazz:"ENFJ",classical:"ENTJ",rock:"INTP",alt:"INFP",reggae:"ISFP",ambient:"ISFP",folk:"INFJ",pop:"ENFP",metal:"INTJ",hop:"ESTJ",electro:"ESTP",religious:"ISFJ",blues:"ENFP",country:"ESFJ",soul:"ESFP"},E=["punk","jazz","classical","rock","alt","reggae","ambient","folk","pop","metal","hop","electro","religious","blues","country","soul"],N=[{data:{mind:18,energy:14,nature:12,tactics:24},meta:{color:"blue"}}];return Object(i.useEffect)((function(){var t=N,n=function(e){var t=[],n=e.map((function(e){return e.genres}));return E.forEach((function(e){var i=0;n.forEach((function(t){t.every((function(t){return!new RegExp(e).test(t)||(i++,!1)}))}));var a={genre:e,matches:i};t.push(a)})),t}(e.topArtists.data),i=(function(e){var t=0,n=0;e.forEach((function(e){var i=e.explicit?1:0;n+=i,t++}))}(e.topSongs.data),function(e){var t={danceabilityAverage:0,energyAverage:0,loudnessAverage:0,valenceAverage:0,modeAverage:0};e.forEach((function(e){t.danceabilityAverage+=e.danceability,t.energyAverage+=e.energy,t.loudnessAverage+=e.loudness,t.valenceAverage+=e.valence,t.modeAverage+=e.mode})),e.map((function(t){return t/e.length}))}(e.audioAnalysis.data),function(e){var t={},n=0,i=0,a=0,s=0;return e.forEach((function(e){var n=T[e.genre];void 0===t[n]?t[n]=e.matches:t[n]+=e.matches})),Object.entries(t).forEach((function(e){var t=e[0],o=e[1],r="E"===t[0]?o:-o,c="N"===t[1]?o:-o,l="F"===t[2]?o:-o,h="P"===t[3]?o:-o;n+=r,i+=c,a+=l,s+=h})),{mind:n,energy:i,nature:a,tactics:s}}(n)),a=function(e,t){var n=t/2;return{mind:e.mind>n?"Extraversion":"Extroversion",energy:e.energy>n?"Intuitive":"Observant",nature:e.nature>n?"Feeling":"Thinking",tactics:e.tactics>n?"Prospection":"Judging"}}(i,n.length);w(a);var o=function(e){var t="";return t+(e.mind[0]+("s"===e.energy[2]?"S":"N"))+e.nature[0]+e.tactics[0]}(a);s(o),Object.entries(i).forEach((function(e){var t=e[0];i[t]=Math.abs(1.3*e[1])/100})),g(i),t[0].data=i,p(t),e.onMatches(n),e.onPersonalityType(o),S(!1)}),[e.topArtists]),Object(h.jsx)("div",{children:k?Object(h.jsx)(b,{}):Object(h.jsxs)("div",{id:"analysis-container",children:[Object(h.jsx)(v.a,{captions:j,data:l,size:550,options:{captionMargin:50,scales:4,captionProps:function(){return{className:"caption",textAnchor:"middle",fontSize:17,fontFamily:"sans-serif"}},scaleProps:function(){return{className:"scale",fill:"#51c58c"}}}}),Object(h.jsxs)("p",{id:"personality-type",children:["Personality: ",a," "]}),Object(h.jsxs)("p",{children:[j.mind,": ",parseFloat(100*m.mind).toFixed(1)," %"]}),Object(h.jsxs)("p",{children:[j.energy,": ",parseFloat(100*m.energy).toFixed(1)," %"]}),Object(h.jsxs)("p",{children:[j.nature,": ",parseFloat(100*m.nature).toFixed(1)," %"]}),Object(h.jsxs)("p",{children:[j.tactics,": ",parseFloat(100*m.tactics).toFixed(1)," %"]})]})})}),x=function(e){var t={ISTP:{description:"Virtuosos love to explore with their hands and eyes, touching and examining the world around them with cool rationalism and great curiosity. People with this personality type are natural creators, moving from project to project building the useful and the superfluous just for the fun of it",link:"https://www.16personalities.com/istp-personality"},ENFJ:{description:"Protagonists are natural-born leaders, full of passion and charisma. Forming around two percent of the population, they are oftentimes our politicians, our coaches and our teachers, reaching out and inspiring others to achieve and to do good in the world. ",link:"https://www.16personalities.com/enfj-personality"},ENTJ:{description:"Commanders are natural-born leaders. People with this personality type embody the gifts of charisma and confidence, and project authority in a way that draws crowds together behind a common goal. However, Commanders are also characterized by an often ruthless level of rationality, using their drive, determination and sharp minds to achieve whatever end they\u2019ve set for themselves. ",link:"https://www.16personalities.com/entj-personality"},INTP:{description:"Logicians pride themselves on their unique perspectives and vigorous intellect. They can\u2019t help but puzzle over the mysteries of the universe \u2013 which may explain why some of the most influential philosophers and scientists of all time have been Logicians. This personality type is fairly rare, but with their creativity and inventiveness, Logicians aren\u2019t afraid to stand out from the crowd.",link:"https://www.16personalities.com/intp-personality"},INFP:{description:". Creative and imaginative, they happily lose themselves in daydreams, inventing all sorts of stories and conversations in their minds. These personalities are known for their sensitivity \u2013 Mediators can have profound emotional responses to music, art, nature, and the people around them.",link:"https://www.16personalities.com/infp-personality"},ISFP:{description:"Adventurer personalities are true artists, but not necessarily in the typical sense where they\u2019re out painting happy little trees. Often enough though, they are perfectly capable of this. Rather, it\u2019s that they use aesthetics, design and even their choices and actions to push the limits of social convention.",link:"https://www.16personalities.com/isfp-personality"},ESFP:{description:"If anyone is to be found spontaneously breaking into song and dance, it is the Entertainer personality type. Entertainers get caught up in the excitement of the moment, and want everyone else to feel that way, too. No other personality type is as generous with their time and energy as Entertainers when it comes to encouraging others.",link:"https://www.16personalities.com/esfp-personality"},INFJ:{description:"Advocates\u2019 unique combination of personality traits makes them complex and quite versatile. For example, Advocates can speak with great passion and conviction, especially when standing up for their ideals. At other times, however, they may choose to be soft-spoken and understated, preferring to keep the peace rather than challenge others.",link:"https://www.16personalities.com/infj-personality"},ENFP:{description:"The Campaigner personality is a true free spirit. They are often the life of the party, but unlike types in the Explorer Role group, Campaigners are less interested in the sheer excitement and pleasure of the moment than they are in enjoying the social and emotional connections they make with others.",link:"https://www.16personalities.com/enfp-personality"},INTJ:{description:"These personalities can be both the boldest of dreamers and the bitterest of pessimists. Architects believe that, through willpower and intelligence, they can achieve even the most challenging of goals. But they may be cynical about human nature more generally, assuming that most people are lazy, unimaginative, or simply doomed to mediocrity.",link:"https://www.16personalities.com/intj-personality"},ESTJ:{description:"Executives are representatives of tradition and order, utilizing their understanding of what is right, wrong and socially acceptable to bring families and communities together. Embracing the values of honesty, dedication and dignity, people with the Executive personality type are valued for their clear advice and guidance.",link:"https://www.16personalities.com/estj-personality"},ESTP:{description:"Entrepreneurs always have an impact on their immediate surroundings \u2013 the best way to spot them at a party is to look for the whirling eddy of people flitting about them as they move from group to group. Laughing and entertaining with a blunt and earthy humor.",link:"https://www.16personalities.com/estp-personality"},ISFJ:{description:"The Defender personality type is quite unique, as many of their qualities defy the definition of their individual traits. Though sensitive, Defenders have excellent analytical abilities; though reserved, they have well-developed people skills and robust social relationships; and though they are generally a conservative type.",link:"https://www.16personalities.com/isfj-personality"},ISTJ:{description:"The Defender personality type is quite unique, as many of their qualities defy the definition of their individual traits. Though sensitive, Defenders have excellent analytical abilities; though reserved, they have well-developed people skills and robust social relationships; and though they are generally a conservative type.",link:"https://www.16personalities.com/isfj-personality"},ENTP:{description:"Debaters are the ultimate devil\u2019s advocate, thriving on the process of shredding arguments and beliefs and letting the ribbons drift in the wind for all to see. They don\u2019t always do this because they are trying to achieve some deeper purpose or strategic goal, though. Sometimes it\u2019s for the simple reason that it\u2019s fun.",link:"https://www.16personalities.com/entp-personality"}};return Object(h.jsx)("div",{className:"row",children:Object(h.jsxs)("div",{id:"description",children:[Object(h.jsxs)("h1",{children:["Personality Type: ",e.personality]}),Object(h.jsxs)("p",{id:"description-text",children:['"',t[e.personality].description,'"']}),Object(h.jsxs)("p",{id:"source",children:["Source:",Object(h.jsx)("a",{href:t[e.personality].link,id:"link",children:t[e.personality].link})]})]})})},O=function(e){var t={punk:"\u26d3\ufe0f",jazz:"\ud83c\udfb7",classical:"\ud83c\udfbb",rock:"\ud83e\uddd1\u200d\ud83c\udfa4",alt:"\ud83d\udc7d",reggae:"\ud83e\ude98",ambient:"\ud83c\udf0c",folk:"\ud83e\uddd1\u200d\ud83e\udd1d\u200d\ud83e\uddd1",pop:"\ud83d\udc83",metal:"\ud83e\udd18",hop:"\ud83d\udcbd",electro:"\ud83e\udd16",religious:"\ud83d\udd6f\ufe0f",blues:"\ud83c\udfb8",country:"\ud83d\udc0e",soul:"\ud83c\udfa4"},n=e.matches.filter((function(e){return e.matches>0})).map((function(e){return Object(h.jsxs)("div",{className:"genre-element",children:[t[e.genre]," ",e.genre,": ",e.matches," ",e.matches>1?"songs":"song"]})}));return Object(h.jsxs)("div",{id:"genre-list",children:[Object(h.jsx)("h2",{children:"Your favourite genres:"}),Object(h.jsx)("div",{id:"list",children:n})]})},k=function(e){var t=function(){var t=[];return e.songs.data.every((function(e,n){if(5===n)return!1;var i={};return i.name=e.name,i.artist=e.artists[0].name,i.album=e.album.name,i.cover=e.album.images[0].url,t.push(i),!0})),t}().map((function(e){return Object(h.jsxs)("div",{className:"album-card",children:[Object(h.jsx)("img",{className:"album-cover",src:e.cover,width:"150"}),Object(h.jsx)("p",{className:"album-track",children:e.name}),Object(h.jsx)("p",{className:"album-title",children:e.album})]})}));return Object(h.jsxs)("div",{id:"your-thing-songs",children:[Object(h.jsx)("h2",{children:"Your favourite songs:"}),Object(h.jsx)("div",{id:"album-gallery",children:t})]})},S=function(e){var t=Object(i.useState)([{album:{album_type:"SINGLE",artists:[{href:"https://api.spotify.com/v1/artists/5RR0MLwcjc87wjSw2JYdwx",id:"5RR0MLwcjc87wjSw2JYdwx",name:"MOMOLAND",type:"artist",uri:"spotify:artist:5RR0MLwcjc87wjSw2JYdwx"}]},images:[{height:640,url:"https://i.scdn.co/image/ab67616d0000b273a5bb4ef1ca42f4378d815c7c",width:640}],name:"BBoom BBoom"}]),n=Object(r.a)(t,2),a=n[0],s=n[1],o=Object(i.useState)([{album:{album_type:"SINGLE",artists:[{href:"https://api.spotify.com/v1/artists/5RR0MLwcjc87wjSw2JYdwx",id:"5RR0MLwcjc87wjSw2JYdwx",name:"MOMOLAND",type:"artist",uri:"spotify:artist:5RR0MLwcjc87wjSw2JYdwx"}]},images:[{height:640,url:"https://i.scdn.co/image/ab67616d0000b273a5bb4ef1ca42f4378d815c7c",width:640}],name:"BBoom BBoom"}]),c=Object(r.a)(o,2),l=c[0],p=c[1],u=Object(i.useState)(),g=Object(r.a)(u,2),y=g[0],j=g[1],v=Object(i.useState)(),S=Object(r.a)(v,2),T=S[0],E=S[1],N=Object(i.useState)(),F=Object(r.a)(N,2),P=F[0],I=F[1],A=Object(i.useState)([{genre:"punk",matches:1}]),J=Object(r.a)(A,2),L=J[0],M=J[1],R=Object(i.useState)(!1),z=Object(r.a)(R,2),C=(z[0],z[1]),B=Object(i.useState)(!0),q=Object(r.a)(B,2),D=q[0],Y=q[1],U=Object(i.useState)("ISTJ"),G=Object(r.a)(U,2),H=G[0],V=G[1];Object(i.useEffect)((function(){W()}),[e.token]);var W=function(){var t=new URLSearchParams;t.append("accessToken",e.token);var n={headers:{"Content-Type":"application/x-www-form-urlencoded"}};m.a.post("https://boiling-reaches-39573.herokuapp.com/getMe/",t,n).then((function(e){I(e)})).catch((function(e){console.log(e),C(!0)})),m.a.post("https://boiling-reaches-39573.herokuapp.com/getUsersTop/getTopArtists/",t,n).then((function(e){j(e)})).catch((function(e){console.log(e),C(!0)})),t.append("number",5),m.a.post("https://boiling-reaches-39573.herokuapp.com/getUsersTop/getTopSongs/",t,n).then((function(e){p(e)})).catch((function(e){console.log(e),C(!0)})),m.a.post("https://boiling-reaches-39573.herokuapp.com/getUsersTop/getTopSongs/",t,n).then((function(t){s(t);var n={},i=t.data.map((function(e){return{id:e.id.toString(),name:e.name}}));n.accessToken=e.token,n.tracks=i;var a={method:"POST",headers:{"content-type":"application/x-www-form-urlencoded"},data:f.a.stringify(n),url:"https://boiling-reaches-39573.herokuapp.com/getUsersTop/getAudioAnalysis/"};m()(a).then((function(e){E(e)})).finally((function(){C(!1),Y(!1)}))})).catch((function(e){console.log("Error: ",e),C(!0),document.cookie="username=accessToken; expires=Thu, 18 Dec 2013 12:00:00 UTC; path=/"}))};return Object(h.jsx)(i.Fragment,{children:D?Object(h.jsx)(b,{}):Object(h.jsxs)("div",{className:"row",children:[Object(h.jsx)("div",{className:"col-xl-4",id:"spider-graph",children:Object(h.jsx)(w,{topArtists:y,topSongs:a,audioAnalysis:T,userInformation:P,onMatches:function(e){M(e)},onPersonalityType:function(e){V(e)}})}),Object(h.jsxs)("div",{className:"col-xl-8",id:"users-results",children:[Object(h.jsx)(x,{personality:H}),Object(h.jsx)(O,{matches:L}),Object(h.jsx)(k,{songs:l}),Object(h.jsxs)("a",{href:"https://github.com/Thealf154/spotify-personality",style:{color:"white"},children:[Object(h.jsx)(d.a,{size:30,color:"white",id:"git-logo"}),"See this project on Github"]})]})]})})},T=function(){var e=Object(i.useState)(),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(i.useState)(),o=Object(r.a)(s,2),c=o[0],l=o[1],d=function(e){e&&(window.location="https://boiling-reaches-39573.herokuapp.com/auth/login")};Object(i.useEffect)((function(){var e=function(e){var t=RegExp(e+"=[^;]+").exec(document.cookie);return!!t&&t[0].replace(e+"=","")}("accessToken");if(a(e),e)l(!0);else{l(!1);var t=new Headers;t.append("Content-Type","application/json"),t.append("Accept","application/json")}}),[]);var u=function(e){return e.isLoggedIn?Object(h.jsx)(S,{token:n}):Object(h.jsx)(p,{onLogIn:d})};return Object(h.jsx)(u,{isLoggedIn:c})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,78)).then((function(t){var n=t.getCLS,i=t.getFID,a=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),i(e),a(e),s(e),o(e)}))};o.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(T,{})}),document.getElementById("root")),E()}},[[73,1,2]]]);
//# sourceMappingURL=main.3952b2b9.chunk.js.map